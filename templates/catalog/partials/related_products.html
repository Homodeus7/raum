{% if related_products %}
<div class="w-full bg-raum-black border-t border-raum-border">
  <div class="px-4 md:px-8 py-8">
    <h2 class="text-xl uppercase font-bold mb-6 tracking-tighter">
      You May Also Like
    </h2>

    <div
      class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-px bg-raum-border"
    >
      {% for product in related_products %}
      <div
        hx-get="{% url 'catalog:product_detail' product.slug %}"
        hx-target="#main-content"
        hx-swap="innerHTML show:top"
        hx-push-url="true"
        class="group relative bg-raum-black overflow-hidden cursor-pointer"
      >
        <div class="aspect-[3/4] overflow-hidden bg-neutral-800">
          {% if product.main_image %}
          <img
            src="{{ product.main_image.image.url }}"
            alt="{{ product.name }}"
            class="w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105"
            loading="lazy"
          />
          {% endif %}
        </div>

        <div
          class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 flex justify-between items-end translate-y-full group-hover:translate-y-0 transition-transform duration-300"
        ></div>

        <div
          class="absolute bottom-0 w-full bg-raum-black/90 p-3 flex justify-between items-center text-[10px] md:text-xs uppercase tracking-wide border-t border-white/10"
        >
          <span class="font-bold truncate pr-2">{{ product.name }}</span>
          <span>${{ product.price }}</span>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endif %}
