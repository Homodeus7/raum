<!-- Cart Modal -->
<div @keydown.escape.window="cartOpen && (cartOpen = false)"
     class="fixed inset-0 z-50"
     :class="cartOpen ? 'pointer-events-auto' : 'pointer-events-none'">

  <!-- Backdrop -->
  <div class="fixed inset-0 bg-black/50 backdrop-blur-sm modal-backdrop transition-opacity duration-300"
       @click="cartOpen = false"
       :class="cartOpen ? 'opacity-100' : 'opacity-0'">
  </div>

  <!-- Drawer -->
  <div class="fixed inset-y-0 right-0 w-full max-w-md bg-raum-black border-l border-raum-border flex flex-col shadow-2xl modal-content transition-transform duration-300"
       :class="cartOpen ? 'translate-x-0' : 'translate-x-full'">

    <!-- Header -->
    <div class="h-16 flex items-center justify-between px-6 border-b border-raum-border">
      <h2 class="text-xl uppercase tracking-wide">
        Your Bag
        <span class="text-sm align-top text-neutral-400" x-text="'[' + cartCount + ']'"></span>
      </h2>
      <button @click="cartOpen = false"
              class="flex items-center text-xs uppercase tracking-widest hover:text-neutral-400">
        Close
        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
      </button>
    </div>

    <!-- Cart Content -->
    <div id="cart-content"
         hx-get="{% url 'cart:modal' %}"
         hx-trigger="load, cartUpdated from:body"
         hx-swap="innerHTML"
         class="flex-1 overflow-y-auto flex flex-col">
    </div>

  </div>
</div>

<style>
  [x-cloak] { display: none !important; }
</style>
